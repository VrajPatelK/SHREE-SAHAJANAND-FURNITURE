<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        SSF - My Favourites
    </title>
    <%- include ('../../partials/header-links') %>

        <%if(session.userType==="customer" ){%>
            <script>

                display_favs(); // calling ...

                function display_favs() { //declare ...
                    $(document).ready(() => {

                        getCarts = new Promise((resolve, reject) => {
                            $.get('/get-favourites', (data, status) => {
                                console.log(data);
                                let favItems = data;
                                $("#no_of_favs_badge").text(favItems.length);
                                let html = "";
                                favItems.forEach(favItem => {
                                    html +=
                                        `<div class="fav-card-div">
                                            <div class="card" style="width: 18rem;">
                                                <img src="${favItem.product.image}" class="card-img-top" alt="...">
                                                <div class="card-body d-flex justify-content-start align-items-center" style="width:100;">
                                                    <button class="btn bg-white mx-2" id="#">
                                                        <i class="fa-solid fa-heart fa-beat" style="color: #ff3300;"></i>
                                                    </button>
                                                    <a href="/products" class="btn btn-outline-warning mx-2" id="#">
                                                        countinue shopping
                                                    </a>
                                                </div>
                                            </div>
                                        </div>`;
                                });

                                $(".my-favs-div").html(html);
                            });
                        });
                    });
                }
            </script>
            <%}%>
</head>


<body>
    <%- include ('../../partials/navbar') %>
        <div class="container-fluid mx-auto mt-4 headingDiv">
            <h4 class="headings">
                Favourites
                <hr>
            </h4>
        </div>
        <div class="container-fluid">
            <div class="container my-favs-div d-flex justify-content-between align-items-center">

            </div>
        </div>
</body>

</html>